<template>
    <div class={errorClass}>
      <fieldset if:false={isbutton}>
        <legend
          if:true={label}
          class="nds-form-element__legend nds-form-element__label nds-form-element__control-help nds-radio-relative-tooltip"
        >
          <div class="nds-clearfix nds-container_fluid">
            <div class="nds-float_left nds-size_10-of-12">
              <abbr
                aria-hidden="true"
                if:true={required}
                title="required"
                class="slds-required"
                >*</abbr
              >
              <span>{label}</span>
            </div>
            <div class="nds-float_right nds-size_1-of-12 nds-text-align_right">
              <vlocity_ins-tooltip
                class="nds-tooltip__container"
                if:true={fieldLevelHelp}
                icon-variant="white"
                icon-name="utility:info"
                content={fieldLevelHelp}
                theme="nds"
                arrowposition="bottom-left"
              >
              </vlocity_ins-tooltip>
            </div>
          </div>
        </legend>
        <div class="nds-form-element__control">
          <template for:each={internalOpts} for:item="option" for:index="index">
            <span key={option.id} class="nds-radio">
              <input
                type="radio"
                onchange={onchangevalue}
                checked={option.selected}
                required={required}
                disabled={disabled}
                id={option.id}
                tabindex={tabIndex}
                data-index={index}
                name={name}
                value={option.value}
              />
              <label class="nds-radio__label" data-index={index} for={option.id}>
                <span class="nds-radio_faux"></span>
                <span class="nds-form-element__label">{option.label}</span>
              </label>
            </span>
          </template>
        </div>
      </fieldset>
      <fieldset if:true={isbutton}>
        <legend
          if:true={label}
          class="nds-form-element__legend nds-form-element__label nds-form-element__control-help nds-radio-relative-tooltip nds-container_fluid"
        >
          <div class="nds-clearfix nds-container_fluid">
            <div class="nds-float_left nds-size_10-of-12">
              <abbr
                aria-hidden="true"
                if:true={required}
                title="required"
                class="slds-required"
                >*</abbr
              >
              <span>{label}</span>
            </div>
            <div class="nds-float_right nds-size_1-of-12 nds-text-align_right">
              <vlocity_ins-tooltip
                class="nds-tooltip__container"
                if:true={fieldLevelHelp}
                icon-variant="white"
                icon-name="utility:question"
                icon-size="xxx-small"
                content={fieldLevelHelp}
                theme="nds"
                arrowposition="bottom-left"
                extrabuttonclass="nds-icon_container nds-icon_container_circle nds-color__text_white nds-color__background_black"
              >
              </vlocity_ins-tooltip>
            </div>
          </div>
        </legend>
  
        <div class="nds-form-element__control">
          <div class="nds-radio_button-group">
            <template for:each={internalOpts} for:item="option" for:index="index">
              <span key={option.id} class="nds-button nds-radio_button">
                <input
                  type="radio"
                  onchange={onchangevalue}
                  checked={option.selected}
                  required={required}
                  disabled={disabled}
                  id={option.id}
                  tabindex={tabIndex}
                  data-index={index}
                  name={name}
                  value={option.value}
                />
                <label
                  class="nds-radio_button__label"
                  data-index={index}
                  for={option.id}
                >
                  <span class="nds-radio_faux">{option.label}</span>
                  <div class="nds-radio-overlay"></div>
                </label>
              </span>
            </template>
          </div>
        </div>
      </fieldset>
      <div if:true={isError} class="nds-form-element__help">{errorMessage}</div>
    </div>
  </template>