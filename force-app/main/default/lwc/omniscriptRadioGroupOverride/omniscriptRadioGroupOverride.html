<template>
  <div class={errorClass}>
    <fieldset if:false={isbutton} class="slds-form-element">
      <legend
        if:true={label}
        class="slds-form-element__legend slds-form-element__label"
        ><abbr if:true={required} title="required" class="slds-required"
          >*</abbr
        >
        <span class="slds-m-right_x-small">{label}</span>
        <span style="white-space: nowrap;">
          <vlocity_ins-tooltip
            if:true={fieldLevelHelp}
            theme="slds"
            content={fieldLevelHelp}
            icon-name="utility:info"
            class="slds-tooltip_container slds-p-right_x-small"
            extrabuttonclass="slds-m-bottom_xxx-small"
          >
          </vlocity_ins-tooltip>
          <slot name="label"></slot>
        </span>
      </legend>
      <div class="slds-form-element__control"  >
        <template for:each={internalOpts} for:item="option" for:index="index">
          <span key={option.id} class="slds-radio">
            <input
              type="radio"
              value={option.value}
              onfocus={handleFocus}
              onchange={onchangevalue}
              checked={option.selected}
              required={required}
              disabled={disabled}
              id={option.id}
              tabindex={tabIndex}
              data-index={index}
              name={name}
              aria-checked={option.selected}
            />
            <label class="slds-radio__label" data-index={index} for={option.id}>
              <span class="slds-radio_faux"></span>
              <span class="slds-form-element__label slds-p-top_none"
                >{option.label}</span
              >
            </label>
          </span>
        </template>
      </div>
    </fieldset>
    <fieldset if:true={isbutton} class="slds-form-element">
      <legend
        id=""
        if:true={label}
        class="slds-form-element__legend slds-form-element__label slds-p-top_none"
        ><abbr if:true={required} title="required" class="slds-required"
          >*</abbr
        >
        <span class="slds-m-right_x-small">{label}</span>
        <span style="white-space: nowrap;">
          <vlocity_ins-tooltip
            if:true={fieldLevelHelp}
            theme="slds"
            content={fieldLevelHelp}
            icon-name="utility:info"
            class="slds-tooltip_container slds-p-right_x-small"
            extrabuttonclass="slds-m-bottom_xxx-small"
          >
          </vlocity_ins-tooltip>
          <slot name="label"></slot>
        </span>
      </legend>
      <div class="slds-form-element__control">
        <div class="slds-radio_button-group">
          <template for:each={internalOpts} for:item="option" for:index="index">
            <span key={option.id} class="slds-button slds-radio_button">
              <input
                type="radio"
                value={option.value}
                onfocus={handleFocus}
                onchange={onchangevalue}
                checked={option.selected}
                required={required}
                disabled={disabled}
                id={option.id}
                tabindex={tabIndex}
                data-index={index}
                name={option.id}
              />
              <label
                class="slds-radio_button__label"
                data-index={index}
                for={option.id}
              >
                <span class="slds-radio_faux">{option.label}</span>
                <div class="slds-radio-overlay"></div>
              </label>
            </span>
          </template>
        </div>
      </div>
    </fieldset>
    <div if:true={isError} class="slds-form-element__help">{errorMessage}</div>
  </div>
</template>